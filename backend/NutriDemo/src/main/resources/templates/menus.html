<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mantenimiento de Menús</title>
</head>

<body>
    <div>
        <br>
        <!-- Mostrar mensaje si no hay menús -->
        <h2 th:if="${listaMenusDTO.isEmpty()}">No hay menús registrados</h2>

        <!-- Mostrar tabla si existen menús -->
        <div th:if="${!listaMenusDTO.isEmpty()}">
            <h2>Mantenimiento de Menús</h2>
            <br>

            <!-- Información del cliente -->
            <h3 th:text="'Cliente: ' + ${clienteDTO.nombre} + ' ' + ${clienteDTO.apellido}"></h3>
            <h3 th:text="'ID Cliente: ' + ${clienteDTO.id}"></h3>
            <br>

            <table border="1">
                <thead>
                    <tr>
                        <td>ID</td>
                        <td>Fecha Inicio</td>
                        <td>Fecha Fin</td>
                        <td>Descripción</td>
                        <td>Estado</td>
                        <td>ID Nutricionista</td>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="item : ${listaMenusDTO}">
                        <td th:text="${item.id}"></td>
                        <td th:text="${#dates.format(item.fechaInicio, 'dd/MM/yyyy')}"></td>
                        <td th:text="${#dates.format(item.fechaFin, 'dd/MM/yyyy')}"></td>
                        <td th:text="${item.descripcion}"></td>
                        <td th:text="${item.estado}"></td>
                        <!-- Cambiado para acceder al ID dentro del objeto nutricionistaDTO -->
                        <td th:text="${item.nutricionistaDTO.id}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <br>
    <div>
        <br>
        <!-- Enlace para volver a la lista de clientes del nutricionista -->
        <a th:href="@{/nutricionistas/{idNutricionista}/clientes(idNutricionista=${clienteDTO.nutricionistaDTO.id})}">
            Volver a Clientes
        </a>
    </div>
</body>
</html>

